<html>
<head>
  <title>459. Repeated Substring Pattern</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (en-US, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="1134"/>
<h1>459. Repeated Substring Pattern</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Created:</b></td><td><i>12/31/2016 2:45 PM</i></td></tr>
<tr><td><b>Updated:</b></td><td><i>12/31/2016 5:01 PM</i></td></tr>
<tr><td><b>Tags:</b></td><td><i>Easy, leetcode tag, String</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><div style="box-sizing: border-box;"><div><a href="https://leetcode.com/problems/repeated-substring-pattern/">https://leetcode.com/problems/repeated-substring-pattern/</a></div><div><span style="font-size: 14px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 14px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: rgb(51, 51, 51);">cool </span></span></span></div><div><font color="#333333" face="Helvetica Neue, Helvetica, Arial, sans-serif"><span style="font-size: 14.399999618530273px; line-height: 16px;">要多想啊！！</span></font></div></div><ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">The length of the repeating substring must be a divisor of the length of the input string</span></li><li style="box-sizing: border-box;">Search for all possible divisor of <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">str.length</code>, starting for <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">length/2</code></li><li style="box-sizing: border-box;">If <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">i</code> is a divisor of <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">length</code>, repeat the substring from <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">0</code> to <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">i</code> the number of times <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">i</code> is contained in <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">s.length</code></li><li style="box-sizing: border-box;">If the repeated substring is equals to the input <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">str</code> return <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">true</code></li></ol><div style="box-sizing: border-box;"><div>51 ms</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>public class Solution {</div><div>    public boolean repeatedSubstringPattern(String str) {</div><div>        int l = str.length();</div><div>        for(int i=l/2;i&gt;=1;i--) {</div><div>            if(l%i==0) {</div><div>                int m = l/i;</div><div>                String subS = str.substring(0,i);</div><div>                StringBuilder sb = new StringBuilder();</div><div>                for(int j=0;j&lt;m;j++) {</div><div>                    sb.append(subS);</div><div>                }</div><div>                if(sb.toString().equals(str)) return true;</div><div>            }</div><div>        }</div><div>        return false;</div><div>    }</div><div>}</div></div><div><span style="font-size: 12.6px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="background-color: rgb(249, 242, 244);"><span style="color: rgb(199, 37, 78);"><br/></span></span></span></span></div><div><a href="https://discuss.leetcode.com/topic/67590/java-o-n">https://discuss.leetcode.com/topic/67590/java-o-n</a></div><div><font color="#C7254E" face="Menlo, Monaco, Consolas, Courier New, monospace"><span style="font-size: 12.800000190734863px;">更快</span></font></div><div><a href="http://jakeboxer.com/blog/2009/12/13/the-knuth-morris-pratt-algorithm-in-my-own-words/"><span style="font-size: 12.800000190734863px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: rgb(199, 37, 78);">Knuth-Morris-Pratt Algorithm</span></span></span></a></div><div><span style="font-size: 12.800000190734863px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: rgb(199, 37, 78);">19 ms</span></span></span></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>public class Solution {</div><div>     public boolean repeatedSubstringPattern(String str) {</div><div>            //This is the kmp issue</div><div>            int[] prefix = kmp(str);</div><div>            int len = prefix[str.length()-1];</div><div>            int n = str.length();</div><div>            return (len &gt; 0 &amp;&amp; n%(n-len) == 0);</div><div>        }</div><div>        private int[] kmp(String s){</div><div>            int len = s.length();</div><div>            int[] res = new int[len];</div><div>            char[] ch = s.toCharArray();</div><div>            int i = 0, j = 1;</div><div>            res[0] = 0;</div><div>            while(i &lt; ch.length &amp;&amp; j &lt; ch.length){</div><div>                if(ch[j] == ch[i]){</div><div>                    res[j] = i+1;</div><div>                    i++;</div><div>                    j++;</div><div>                }else{</div><div>                    if(i == 0){</div><div>                        res[j] = 0;</div><div>                        j++;</div><div>                    }else{</div><div>                        i = res[i-1];</div><div>                    }</div><div>                }</div><div>            }</div><div>            return res;</div><div>        }</div><div>}</div></div><div><span style="font-size: 12.6px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="background-color: rgb(249, 242, 244);"><span style="color: rgb(199, 37, 78);"><br/></span></span></span></span></div></div></div></span>
</div></body></html> 