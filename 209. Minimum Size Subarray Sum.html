<html>
<head>
  <title>209. Minimum Size Subarray Sum</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (en-US, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="8421"/>
<h1>209. Minimum Size Subarray Sum</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Created:</b></td><td><i>3/4/2017 5:04 PM</i></td></tr>
<tr><td><b>Updated:</b></td><td><i>3/4/2017 6:45 PM</i></td></tr>
<tr><td><b>Tags:</b></td><td><i>Arrary, Binary Search, leetcode tag, Medium, Two pointers</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><a href="https://leetcode.com/problems/minimum-size-subarray-sum/?tab=Description">https://leetcode.com/problems/minimum-size-subarray-sum/?tab=Description</a></div><div><br/></div><div>my solution too slow</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>public class Solution {</div><div>    public int minSubArrayLen(int s, int[] nums) {</div><div>        int n = nums.length;</div><div>        int[] res = new int[n];</div><div>        int deep = 0;</div><div>        while(deep &lt; n) {</div><div>            for (int i = 0; i &lt; (n - deep); i++) {</div><div>                int tmp = res[i] + nums[i + deep];</div><div>                if (tmp &gt;= s) return deep + 1;</div><div>                res[i] = tmp;</div><div>            }</div><div>            // System.out.println(Arrays.toString(res));</div><div>            deep++;</div><div>        }</div><div>        return 0;</div><div>    }</div><div>}</div><div><br/></div><div>// [2,3,1,2,4,3]</div><div>// [5,4,3,6,7,3]</div><div>// [6,6,7,9,7,3]</div></div><div><br/></div><div>应该用two pointer</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><font color="#333333" face="Monaco, Menlo, Consolas, Courier New, monospace"><span style="font-size: 12px;">public class Solution {</span></font></div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">public int minSubArrayLen(int s, int[] a) {</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">  if (a == null || a.length == 0)</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">    return 0;</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;"><br/></div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">  int i = 0, j = 0, sum = 0, min = Integer.MAX_VALUE;</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;"><br/></div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">  while (j &lt; a.length) {</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">    sum += a[j++];</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;"><br/></div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">    while (sum &gt;= s) {</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">      min = Math.min(min, j - i);</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">      sum -= a[i++];</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">    }</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">  }</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;"><br/></div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">  return min == Integer.MAX_VALUE ? 0 : min;</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">}</div><div style="color: rgb(51, 51, 51); font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px;">}</div></div><div><br/></div><div>// [2,3,1,2,4,3]</div><div>sum  [0,2,5,6,8,12,15]</div><div><br/></div><div>nlogn的算法</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>public class Solution {</div><div>    public int minSubArrayLen(int s, int[] nums) {</div><div>        return solveNLogN(s, nums);</div><div>    }</div><div><br/></div><div>    private int solveN(int s, int[] nums) {</div><div>        int start = 0, end = 0, sum = 0, minLen = Integer.MAX_VALUE;</div><div>        while (end &lt; nums.length) {</div><div>            while (end &lt; nums.length &amp;&amp; sum &lt; s) sum += nums[end++];</div><div>            if (sum &lt; s) break;</div><div>            while (start &lt; end &amp;&amp; sum &gt;= s) sum -= nums[start++];</div><div>            if (end - start + 1 &lt; minLen) minLen = end - start + 1;</div><div>        }</div><div>        return minLen == Integer.MAX_VALUE ? 0 : minLen;</div><div>    }</div><div><br/></div><div>    private int solveNLogN(int s, int[] nums) {</div><div>        int[] sums = new int[nums.length + 1];</div><div>        for (int i = 1; i &lt; sums.length; i++) sums[i] = sums[i - 1] + nums[i - 1];</div><div>        int minLen = Integer.MAX_VALUE;</div><div>        for (int i = 0; i &lt; sums.length; i++) {</div><div>            int end = binarySearch(i + 1, sums.length - 1, sums[i] + s, sums);</div><div>            if (end == sums.length) break;</div><div>            if (end - i &lt; minLen) minLen = end - i;</div><div>        }</div><div>        return minLen == Integer.MAX_VALUE ? 0 : minLen;</div><div>    }</div><div><br/></div><div>    private int binarySearch(int lo, int hi, int key, int[] sums) {</div><div>        while (lo &lt;= hi) {</div><div>           int mid = (lo + hi) / 2;</div><div>           if (sums[mid] &gt;= key){</div><div>               hi = mid - 1;</div><div>           } else {</div><div>               lo = mid + 1;</div><div>           }</div><div>        }</div><div>        return lo;</div><div>    }</div><div>}</div></div><div><br/></div><div><br/></div></span>
</div></body></html> 