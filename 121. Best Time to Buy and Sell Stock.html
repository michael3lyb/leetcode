<html>
<head>
  <title>121. Best Time to Buy and Sell Stock</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/304720 (en-US, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="1166"/>
<h1>121. Best Time to Buy and Sell Stock</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>Created:</b></td><td><i>12/30/2016 11:22 AM</i></td></tr>
<tr><td><b>Updated:</b></td><td><i>12/30/2016 11:41 AM</i></td></tr>
<tr><td><b>Tags:</b></td><td><i>Arrary, Dynamic Programming, Easy, leetcode tag</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><a href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock/">https://leetcode.com/problems/best-time-to-buy-and-sell-stock/</a></div><div><br/></div><div>Math.max 和 if速度是一样的</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>public class Solution {</div><div>    public int maxProfit(int[] prices) {</div><div>        int low = Integer.MAX_VALUE;</div><div>        int max = 0;</div><div>        for (int p : prices) {</div><div>            if (p - low &gt; max) {</div><div>                max = p - low;</div><div>            }</div><div>            //max = Math.max(p - low, max);</div><div>            if (p &lt; low) {</div><div>                low = p;</div><div>            }</div><div>            //low = Math.min(p, low);</div><div>        }</div><div><br/></div><div>        return max &gt; 0 ? max : 0;</div><div>    }</div><div>}</div></div><div><br/></div><div>这个屌，不过速度还没有上面的快</div><div><p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">The logic to solve this problem is same as &quot;max subarray problem&quot; using <b><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">Kadane's Algorithm</code></b>. Since no body has mentioned this so far, I thought it's a good thing for everybody to know.</p><p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">All the straight forward solution should work, but if the interviewer twists the question slightly by giving the <strong style="box-sizing: border-box; font-weight: 700;"><em style="box-sizing: border-box;">difference array of prices</em></strong>, Ex: for <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">{1, 7, 4, 11}</code>, if he gives <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">{0, 6, -3, 7}</code>, you might end up being confused.</p><p style="box-sizing: border-box; margin: 0px 0px 10px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">Here, the logic is to calculate the difference (<code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; padding: 2px 4px; color: rgb(199, 37, 78); background-color: rgb(249, 242, 244); border-radius: 4px;">maxCur += prices[i] - prices[i-1]</code>) of the original array, and find a contiguous subarray giving maximum profit. If the difference falls below 0, reset it to zero.</p><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; color: rgb(51, 51, 51); background-color: rgb(245, 245, 245); border: 1px solid rgb(204, 204, 204); border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><span style="background-color: rgb(240, 240, 240);"><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">    <span style="box-sizing: border-box; font-weight: bold;"><span style="font-size: inherit;">public</span></span> <span style="box-sizing: border-box; font-weight: bold;"><span style="font-size: inherit;">int</span></span> maxProfit(<span style="box-sizing: border-box; font-weight: bold;"><span style="font-size: inherit;">int</span></span>[] prices) {</span></span></span></div><div><span style="background-color: rgb(240, 240, 240);"><span style="font-size: inherit;"><span style="color: rgb(68, 68, 68);">        <span style="box-sizing: border-box; font-weight: bold;"><span style="font-size: inherit;">int</span></span> maxCur = </span><span style="box-sizing: border-box; color: rgb(136, 0, 0);"><span style="font-size: inherit;">0</span></span><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">, maxSoFar = </span></span><span style="box-sizing: border-box; color: rgb(136, 0, 0);"><span style="font-size: inherit;">0</span></span><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">;</span></span></span></span></div><div><span style="background-color: rgb(240, 240, 240);"><span style="font-size: inherit;"><span style="color: rgb(68, 68, 68);">       </span> <span style="box-sizing: border-box; color: rgb(57, 115, 0);"><span style="font-size: inherit;">for</span></span><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">(<span style="box-sizing: border-box; font-weight: bold;"><span style="font-size: inherit;">int</span></span> i = </span></span><span style="box-sizing: border-box; color: rgb(136, 0, 0);"><span style="font-size: inherit;">1</span></span><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">; i &lt; prices.length; i++) {</span></span></span></span></div><div><span style="background-color: rgb(240, 240, 240);"><span style="font-size: inherit;"><span style="color: rgb(68, 68, 68);">            maxCur = Math.</span><span style="box-sizing: border-box; color: rgb(57, 115, 0);"><span style="font-size: inherit;">max</span></span><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">(</span></span><span style="box-sizing: border-box; color: rgb(136, 0, 0);"><span style="font-size: inherit;">0</span></span><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">, maxCur += prices[i] - prices[i</span></span><span style="box-sizing: border-box; color: rgb(136, 0, 0);"><span style="font-size: inherit;">-1</span></span><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">]);</span></span></span></span></div><div><span style="background-color: rgb(240, 240, 240);"><span style="font-size: inherit;"><span style="color: rgb(68, 68, 68);">            maxSoFar = Math.</span><span style="box-sizing: border-box; color: rgb(57, 115, 0);"><span style="font-size: inherit;">max</span></span><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">(maxCur, maxSoFar);</span></span></span></span></div><div><span style="background-color: rgb(240, 240, 240);"><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">        }</span></span></span></div><div><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: inherit; padding: 0.5em; color: rgb(68, 68, 68); background: rgb(240, 240, 240); border-radius: 0px; display: block; overflow-x: auto;">        <span style="box-sizing: border-box; color: rgb(57, 115, 0);">return</span> maxSoFar;</code></div><div><span style="background-color: rgb(240, 240, 240);"><span style="color: rgb(68, 68, 68);"><span style="font-size: inherit;">    }</span></span></span></div></div></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div></span>
</div></body></html> 